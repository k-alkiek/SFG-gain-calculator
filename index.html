<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>State Chart</title>
    <meta name="description" content="A finite state machine chart with editable and interactive features." />
    <!-- Copyright 1998-2018 by Northwoods Software Corporation. -->
    <meta charset="UTF-8">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/customSS.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/go.js"></script>
    <script src="assets/js/graph_editor.js"></script>
    <script src="assets/js/sfg.js"></script>
    <script src="assets/js/mason.js"></script>
    <script src="assets/js/index.js"></script>
    <script id="code">
    </script>
  </head>
  <body onload="init()">
    <div id="sample">




      <div class="jumbotron">
        <div class="container">
          <h1>Signal Flow Graph Evaluator</h1>
          <div id="myDiagramDiv" style="border: solid 1px black; width: 100%; height: 600px"></div>
            <div class="row ">
              <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                <a class="btn btn-primary btn-lg" style="margin-top: 10px;" onclick="evaluateClicked()">Evaluate</a>
              </div>
<!--                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
              </div> -->
              <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9 text-right">
                <a class="btn btn-primary btn-lg" style="margin-top: 10px;" id="input" onclick="selectInputNodeClicked(event)">Select Input Node</a>
                <a class="btn btn-primary btn-lg" style="margin-top: 10px;" id="output" onclick="selectOutputNodeClicked(event)">Select Output Node</a>
              </div>
            </div>



            <div class="container">
              <h2></h2>
              <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#data">Graph data</a></li>
                <li><a data-toggle="tab" href="#results">Results</a></li>
              </ul>

              <div class="tab-content">
                <div id="data" class="tab-pane fade in active">
                  <div>
                    <div class="row" style="margin-top: 10px; margin-bottom: 10px;">
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 align-text-bottom">
                        <h3>Diagram model saved in JSON format</h3>
                      </div>
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 text-right">
                        <a class="btn btn-primary btn-lg" onclick="save()">Save</a>

                        <a class="btn btn-primary btn-lg" onclick="load()">Load</a>
                      </div> 
                    </div>
                    <textarea id="mySavedModel" style="width:100%;height:300px">
{ "class": "go.GraphLinksModel",
  "nodeKeyProperty": "id",
  "nodeDataArray": [ 
{"text":"0", "id":-1, "loc":"137.5 194"},
{"text":"1", "loc":"337.5 194", "id":-2},
{"text":"2", "loc":"537.5 194", "id":-3},
{"text":"3", "loc":"737.5 194", "id":-4},
{"text":"4", "loc":"904.5 194", "id":-5},
{"text":"5", "loc":"1085.5 192", "id":-6}
 ],
  "linkDataArray": [ 
{"from":-1, "to":-2, "text":"1", "points":[168.73262624063176,210.00837819855033,225.1078484021545,198.00207045656612,281.35578820642263,198.52008051880193,337.51194673599844,210.00837819855033]},
{"from":-2, "to":-3, "text":"1", "points":[368.73509719104726,210.39979965349147,424.9907562018044,199.84566959520978,481.24081970096773,199.80913369440046,537.5101416112162,210.29017580778475]},
{"from":-3, "to":-4, "text":"1", "points":[568.7350971910473,210.3997996534892,624.9907562018043,199.84566959512,681.2408197009677,199.80913369431067,737.5101416112162,210.29017580778248]},
{"from":-4, "to":-5, "text":"1", "points":[768.731785271991,209.8836696791191,813.9905368031217,199.3442824198444,859.2443562319816,199.32248706034906,904.5132388236251,209.81827397041852]},
{"from":-5, "to":-6, "text":"1", "points":[935.7329000395778,210.0498201344879,985.5429702395958,198.9668729549143,1035.4612396571656,198.4009633010828,1085.509764530637,208.35184112665937]},
{"from":-2, "to":-4, "points":[368.71035822558895,219.5669211048413,500.5,271,608.5,270,737.5342969764062,219.57501063559207]},
{"from":-2, "to":-5, "points":[368.6985208076584,220.67532333370767,540.5,300,694.5,300,904.533146333873,219.46119358541594]},
{"from":-4, "to":-4, "points":[763.5607552574222,196.24054012606612,785.5,160,722.5,162,742.8106831260654,196.14713712067913], "text":"-1"},
{"from":-4, "to":-3, "points":[738.2440462964789,201.91157379924252,680.5,157,613.5,157,567.2819075537927,200.2370777740323], "text":"-1"},
{"from":-3, "to":-2, "points":[538.4381246068417,201.22038693516086,479.5,152,423.5,150,367.492876804091,200.52059108297072], "text":"-1"}
 ]}
                    </textarea>
                  </div>
                </div>
                <div id="results" class="tab-pane fade">
                  <h3>Results</h3>
                    <div class="tab">
                        <button class="tablinks" onclick="openResultElement(event, 'masonsFormula')">Mason's Formula</button>
                        <button class="tablinks" onclick="openResultElement(event, 'forwardPaths')">Forward Paths</button>
                        <button class="tablinks" onclick="openResultElement(event, 'loops')">Loops</button>
                        <button class="tablinks" onclick="openResultElement(event, 'deltas')">Deltas</button>
                    </div>

                    <!-- Tabs to hold results data for display -->
                    <div id="masonsFormula" class="tabcontent">
                        <h4 class="failMessage">Nothing to show.</h4>
                        <h3>The transfer function </h3>
                        <img src="assets/images/Formula.png">
                        <h3 id="masonsFormulaContainer"></h3>
                    </div>
                    <div id="forwardPaths" class="tabcontent">
                        <h4 class="failMessage">Nothing to show.</h4>
                        <ul id="forwardPathsContainer"></ul>
                    </div>
                    <div id="loops" class="tabcontent">
                        <h4 class="failMessage">Nothing to show.</h4>
                        <ul id="loopsContainer"></ul>
                    </div>
                    <div id="deltas" class="tabcontent">
                        <h4 class="failMessage">Nothing to show.</h4>
                        <ul id="deltasContainer"></ul>
                    </div>

                </div>
              </div>
            </div>

            
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
